<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Traditional papercrafts and ink-based artwork, gallery and comission site! Comissions feature handmade paper, journals, pictures, and more!">
		<meta name="author" content="Reverie Wisp">

		<!-- Font awesome paintbrush used for a favicon! No changes were made. https://fontawesome.com/license -->
		<link rel="icon" href="assets/brush.ico" type="image/gif">

		<title>Dragon Ink</title>
		
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=IM+Fell+English+SC|Lato" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Pangolin&display=swap" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
	</head>

	<style>
		html, body {
			background-image: url('assets/paper.png');
			height: 100%;
			width: 100%;
			margin: 0px;
		}


		/* ---------- Tiled Images ---------- */


		.ink-displayable {
			cursor: pointer;
			transition: 0.2s;
			width:100%;

			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
		}

		.ink-displayable:hover { filter: brightness(110%);}


		/* ---------- Start Modal config ---------- */

		.ink-panel {
			display: inline-block;

			border-radius: 5px;

			max-width: 210px;
			background-color: rgba(100, 70, 70, .075);
			margin: 5px;

			border-bottom: 1px solid rgba(0, 0, 0, .05);
			border-top: 1px solid rgba(0, 0, 0, .05);

			box-shadow: 1px 1px 3px rgba(0, 0, 0, .05);
		}

		.ink-modal {
			display: none;
			overflow: auto;
			padding-top: 100px;
			z-index: 1;

			position: fixed;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;

			transition: 10s;

			background-color: rgb(0, 0, 0);
			background-color: rgba(0, 0, 0, 0.85);
		}

		.modal-content {
		  margin: auto;
		  display: block;
		  width: 80%;
		  max-width: 700px;
		}

		#modal-caption {
		  margin: auto;
		  display: block;
		  width: 80%;
		  max-width: 700px;
		  text-align: center;
		  color: #ccc;
		  padding: 10px 0;
		  height: 150px;
		  font-family: 'Pangolin', sans-serif;
		}

		.modal-content, #modal-caption { 
		  animation-name: zoom;
		  animation-duration: 0.2s;
		}

		@keyframes zoom {
		  from {transform:scale(0)} 
		  to {transform:scale(1)}
		}

		#modal-close {
		  position: absolute;
		  top: 15px;
		  right: 35px;
		  color: #f1f1f1;
		  font-size: 40px;
		  font-weight: bold;
		  transition: 0.2s;
		}

		#modal-close:hover,
		#modal-close:focus {
		  color: #bbb;
		  text-decoration: none;
		  cursor: pointer;
		}

		@media only screen and (max-width: 700px){
		  .modal-content {
		    width: 100%;
		  }
		}


		/* ---------- End Modal config ---------- */

		.ink-caption {
			line-height: 1.25em;
			text-align: left;

			padding-top: 10px;
			padding-left: 5px;
			padding-right: 5px;
		}

		.ink-body {
			text-align: center;
			height: 100%;
			width: 100%;
		}

		#ink-logo {
			max-width: 130px;

			margin: 10px;
		}

		.ink-text-link {
			font-size: 16px;
			opacity: 0.6;
			font-family: 'Lato', sans-serif;
		}

		.ink-center {
			display: flex;
			align-items: center;
			justify-content: center;
			vertical-align: middle;

			margin-left: 10px;
			margin-right: 10px;
		}

		.ink-text-title {
			padding-top: 20px;
			font-family: 'IM Fell English SC', serif;
			color: rgb(40, 40, 40);
			display: inline-block;
		}

		.ink-text-title h1 {
			margin: 0px;
			font-size: 25px;
		}

		.ink-text-subtitle {
			font-family: 'IM Fell English SC', serif;
			color: rgb(40, 40, 40);
			font-size: 17px;
			margin-bottom: 0px;
		}

		.ink-main {
			position:relative;
		}

		.ink-break {
			margin-left: auto;
			margin-right: auto;
			max-width: 600px;
		}

		.ink-noselect {
			/* from https://stackoverflow.com/a/4407335 */
			-webkit-touch-callout: none; /* iOS Safari */
			-webkit-user-select: none; /* Safari */
			 -khtml-user-select: none; /* Konqueror HTML */
				 -moz-user-select: none; /* Firefox */
				-ms-user-select: none; /* Internet Explorer/Edge */
					user-select: none; /* Non-prefixed version, currently
											supported by Chrome and Opera */
		}

		.ink-hr {
			margin-top: -5px;
			margin-bottom: 20px;
			text-align: center;
		}

		.ink-footer-text {
			opacity: 0.5;
			font-family: 'Lato', sans-serif;
			font-size: .8em;
			margin: 20px;
			margin-left: auto;
			margin-right: auto;
			max-width: 500px;
			text-align: center;
		}

		.ink-item-img {
			max-width: 200px;
			border-radius: 200px;
			margin-bottom: 1em;
			margin-top: 2em;
		}
	</style>

	<body>
		<div class="ink-body">
			<div class="ink-main container">
				<div class="row justify-content-center">
					<div class="col-xs">
						<img id="ink-logo" class="ink-noselect" src="assets/logo.png" alt="ink splotch logo">
					</div>
					<div class="col-xs ink-center">
						<div class="ink-center ink-text-title">
							<h1>Dragon Ink</h1>
							<h2 class="ink-text-subtitle">Doodles &amp; more!</h2>
							<span class="ink-text-link">
								&nbsp;[&nbsp;<a style="text-decoration: none;" href="https://www.reveriewisp.com/"><i class="fas fa-home"></i></a>&nbsp;]&nbsp;
								&nbsp;[&nbsp;<a style="text-decoration: none;" href="https://twitter.com/ReverieWisp"><i class="fab fa-twitter"></i></a>&nbsp;]&nbsp;
								&nbsp;[&nbsp;<a style="text-decoration: none;" href="https://www.deviantart.com/reveriewisp"><i class="fab fa-deviantart"></i></i></a>&nbsp;]&nbsp;
							</span>
						</div>
					</div>
				</div>

				<div class="ink-hr">
					<hr/>
					<h2 class="ink-text-title">Premade and Custom Items</h2>
					<hr/>
				</div>
				<div class="row text-center">
					<div class="col-md">
						<img class="ink-item-img" src="assets/example-paper.jpg" alt="A fanned out stack of raspberry colored paper">
						<div class="text-left">
							<p>Want to buy paper by the sheet? 4x6 sheets start at $0.75, and 8x10 sheets start at $1.50! Check out the inventory page for a complete list of everythnig available!</p>
							<p>Looking for scrap paper? It starts at $0.33 a sheet with a 10-sheet minimum order. This paper is anything that doesn't meet thickness, uniformity, or sizing standards, or is more experimental in nature.</p>
						</div>
					</div>
					<div class="col-md">
						<img class="ink-item-img" src="assets/example-art.jpg" alt="A fanned out stack of raspberry colored paper">
						<div class="text-left">
							<p>Looking for something a little more artsy? Custom quick tree doodles start at $5 for a sketch on 4x6 paper. Check out the gallery for examples, and the inventory page to see what's available. Custom pieces can be made to order, and pricing will varry based on the size and complexity!</p>
						</div>
					</div>
					<div class="col-md">
						<img class="ink-item-img" src="assets/example-journal.jpg" alt="A fanned out stack of raspberry colored paper">
						<div>
							<p>Looking for a custom bound journal? Pricing starts at $10, and by default journals come with 10 inner pages, front and back cover, and have a thread and glue binding. Each additional page past the first is $1, up to 40 pages!</p>
						</div>
					</div>
				</div>
				<br/>
				<p>Shipping is $5 flat rate for all orders to reduce complexity. Tax is included in all pricing.</p>
				<br/>

				<!-- Displayable images -->
				<div class="ink-hr">
					<hr/>
					<h2 class="ink-text-title">Gallery</h2>
					<hr/>
				</div>
				<div>
					<span id="displayed"></span>
				</div>

				<!-- Footer -->
				<div class="ink-hr">
					<hr/>
					<span class="ink-text-link">
						&nbsp;[&nbsp;<a style="text-decoration: none;" href="https://www.reveriewisp.com/"><i class="fas fa-home"></i></a>&nbsp;]&nbsp;
						&nbsp;[&nbsp;<a style="text-decoration: none;" href="https://twitter.com/ReverieWisp"><i class="fab fa-twitter"></i></a>&nbsp;]&nbsp;
						&nbsp;[&nbsp;<a style="text-decoration: none;" href="https://www.deviantart.com/reveriewisp"><i class="fab fa-deviantart"></i></i></a>&nbsp;]&nbsp;
					</span>
					<p class="ink-footer-text">Due to the nature of papermaking, sizing is approximate, tho tends to run a tad bigger than specified. Derg.ink comissions and distribution are handled by <a href="https://loam.app">Loam LLC</a>. Unless otherwise specified, all pictures and content copyright &copy; <a href="https://loam.app">Loam LLC</a>. Icons are from <a href="https://fontawesome.com">Font Awesome</a>, Fonts are from <a href="https://fonts.google.com">Google Fonts</a>.</p>
				</div>

				<!-- Modal contentsfor selecting a displayable image -->
				<div id="modal" class="ink-modal">
					<span id="modal-close">&times;</span>
					<img class="modal-content" id="ink-modal-image">
					<div id="modal-caption"></div>
				</div>
			</div>
		</div>


		<!-- Provides an array of image objects -->
		<script language="JavaScript" src="images.json"></script>

		<!-- Set up the document -->
		<script type="text/javascript">
			// Disable logo interactions
			document.getElementById('ink-logo').draggable = false;

			// Sift through and display all the images in the json file
			for(let i = 0; i < images.length; i++) {
				let src = images[i].src;
				let alt = images[i].alt;

				let elem = document.getElementById('displayed');

				elem.innerHTML = elem.innerHTML + `<div class="ink-panel"><img class="ink-displayable" src="${src}" alt="${alt}"><p class="ink-caption">${alt}</p></div>`;
			}

			// now that items are displayed, parse them to hook up popup behavior
			let displayables = document.getElementsByClassName("ink-displayable");
			let modalImg = document.getElementById("ink-modal-image");

			for (i = 0; i < displayables.length; i++) {
				let element = displayables[i];
			
				element.onclick = function() {
					modal.style.display = "block";
					modalImg.src = this.src;
					modalCaption.innerHTML = this.alt;
				}
			}

			// Set up modal interactions
			let modal = document.getElementById("modal");
			let modalCaption = document.getElementById("modal-caption");
			let closeSection = document.getElementById("modal-close");
			let closeBG = document.getElementById("modal");

			closeBG.onclick = function() { modal.style.display = "none"; }
			closeSection.onclick = function() { modal.style.display = "none"; }

			// Parse query string and display the corresponding thing as necessary
			// From https://davidwalsh.name/query-string-javascript
			function getUrlParameter(name) {
				name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
				let regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
				let results = regex.exec(location.search);
				return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
			};

			//let urlParams = new URLSearchParams(window.location.search)
		</script>
	</body>
</html>